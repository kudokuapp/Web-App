'use client';

import { faClose } from '@fortawesome/free-solid-svg-icons';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { motion } from 'framer-motion';
import { useState } from 'react';
import type { IFloatingActionButton } from './index.d';

const FloatingActionButton: React.FC<IFloatingActionButton> = ({ actions }) => {
  const [isOpen, setIsOpen] = useState(false);

  const toggleOpen = () => {
    setIsOpen(!isOpen);
  };

  return (
    <>
      <motion.button
        className="bg-[#FF7972] rounded-full shadow-xl text-onPrimaryContainer focus:outline-none fixed bottom-14 right-10 w-[60px] h-[60px] flex items-center justify-center z-50"
        onClick={toggleOpen}
      >
        {!isOpen && (
          <svg
            width="30"
            height="30"
            viewBox="0 0 30 30"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clipPath="url(#clip0_24_15)">
              <mask id="path-1-inside-1_24_15" fill="white">
                <path d="M1.48438 0.46875L1.64431 0.381267C1.79783 0.297292 1.95817 0.226432 2.12361 0.169443C2.44929 0.0572615 2.79135 0 3.13581 0H26.7746C27.0173 0 27.2597 0.0173554 27.5 0.0519334L27.8938 0.166898C28.0476 0.211792 28.1971 0.270417 28.3404 0.342067L28.3647 0.354222C28.517 0.430361 28.6608 0.522374 28.7937 0.62873C28.9205 0.730152 29.0367 0.844088 29.1407 0.968812L29.375 1.25L29.6352 1.66628C29.7218 1.80494 29.7918 1.95338 29.8435 2.1085C29.8955 2.26477 29.9288 2.42671 29.9425 2.59087L29.9558 2.75079C29.9851 3.1023 29.9596 3.45622 29.8803 3.79992L29.8398 3.97549C29.7906 4.1886 29.7105 4.39336 29.602 4.58325C29.5032 4.75615 29.3818 4.9151 29.241 5.0559L28.9844 5.3125L18.6628 13.2945C17.7955 13.9652 16.6407 14.1337 15.618 13.7387C15.2105 13.5813 14.8404 13.3404 14.5316 13.0316L12.5 11L9.5 8L4.5 2.8125L4.07854 2.47006C3.70429 2.16599 3.23678 2 2.75457 2H2.45416C2.16058 2 1.87616 2.10222 1.64975 2.2891L1.38792 2.50521C1.16157 2.69204 0.846365 2.72787 0.583859 2.59662L0.538473 2.57392C0.441913 2.52564 0.361123 2.45083 0.305579 2.35826C0.2118 2.20196 0.198782 2.01013 0.270583 1.8426L0.390625 1.5625L0.46748 1.43441C0.572098 1.26004 0.697706 1.09917 0.841491 0.955384C0.957297 0.839578 1.08426 0.735494 1.22053 0.644648L1.48438 0.46875Z" />
              </mask>
              <path
                d="M1.64431 0.381267L2.6041 2.13592L2.6041 2.13592L1.64431 0.381267ZM1.48438 0.46875L0.524586 -1.2859L0.447799 -1.2439L0.374975 -1.19535L1.48438 0.46875ZM1.22053 0.644648L0.111127 -1.01945L0.111127 -1.01945L1.22053 0.644648ZM0.46748 1.43441L2.18247 2.4634L2.18247 2.4634L0.46748 1.43441ZM0.390625 1.5625L-1.32436 0.533508L-1.3942 0.649901L-1.44767 0.774661L0.390625 1.5625ZM0.270583 1.8426L-1.56771 1.05476L-1.56771 1.05476L0.270583 1.8426ZM0.538473 2.57392L-0.355954 4.36278L-0.35595 4.36278L0.538473 2.57392ZM0.583859 2.59662L1.47829 0.807763L1.47828 0.80776L0.583859 2.59662ZM1.38792 2.50521L0.114787 0.962765L0.114786 0.962766L1.38792 2.50521ZM1.64975 2.2891L2.92287 3.83155L2.92288 3.83155L1.64975 2.2891ZM4.07854 2.47006L5.33972 0.917835L5.33972 0.917835L4.07854 2.47006ZM4.5 2.8125L5.94 1.42455L5.85559 1.33697L5.76119 1.26027L4.5 2.8125ZM18.6628 13.2945L17.4393 11.7124L17.4393 11.7124L18.6628 13.2945ZM28.9844 5.3125L30.2079 6.89461L30.3086 6.81673L30.3986 6.72671L28.9844 5.3125ZM29.241 5.0559L30.6552 6.47012L30.6552 6.47011L29.241 5.0559ZM29.8398 3.97549L27.891 3.52576L27.891 3.52577L29.8398 3.97549ZM29.8803 3.79992L31.8291 4.24964L31.8291 4.24963L29.8803 3.79992ZM29.9558 2.75079L31.9489 2.5847L31.9489 2.5847L29.9558 2.75079ZM29.9425 2.59087L27.9494 2.75696L27.9494 2.75696L29.9425 2.59087ZM29.6352 1.66628L27.9392 2.72628L27.9392 2.72628L29.6352 1.66628ZM29.375 1.25L31.071 0.190005L30.9987 0.0743793L30.9114 -0.0303684L29.375 1.25ZM29.1407 0.968812L30.6771 -0.311557L30.6771 -0.311561L29.1407 0.968812ZM28.3647 0.354222L27.4703 2.14307L27.4703 2.14308L28.3647 0.354222ZM28.3404 0.342067L29.2348 -1.44678L29.2348 -1.44679L28.3404 0.342067ZM27.8938 0.166898L27.3334 2.08677L27.3334 2.08677L27.8938 0.166898ZM27.5 0.0519334L28.0604 -1.86794L27.9248 -1.90754L27.7849 -1.92767L27.5 0.0519334ZM9.5 8L8.06 9.38795L8.07277 9.4012L8.08579 9.41421L9.5 8ZM28.7937 0.62873L30.0431 -0.933009L30.0431 -0.933012L28.7937 0.62873ZM29.8435 2.1085L31.7408 1.47604L31.7408 1.47604L29.8435 2.1085ZM29.602 4.58325L27.8655 3.59098L27.8655 3.59098L29.602 4.58325ZM15.618 13.7387L14.8975 15.6044L14.8975 15.6044L15.618 13.7387ZM0.305579 2.35826L2.02057 1.32927L2.02057 1.32927L0.305579 2.35826ZM2.12361 0.169443L1.47226 -1.72152L1.47226 -1.72152L2.12361 0.169443ZM0.684518 -1.37338L0.524586 -1.2859L2.44416 2.2234L2.6041 2.13592L0.684518 -1.37338ZM0.374975 -1.19535L0.111127 -1.01945L2.32993 2.30875L2.59378 2.13285L0.374975 -1.19535ZM-1.24751 0.405418L-1.32436 0.533508L2.10561 2.59149L2.18247 2.4634L-1.24751 0.405418ZM-1.44767 0.774661L-1.56771 1.05476L2.10887 2.63044L2.22892 2.35034L-1.44767 0.774661ZM-0.35595 4.36278L-0.310564 4.38547L1.47828 0.80776L1.4329 0.785068L-0.35595 4.36278ZM2.66105 4.04766L2.92287 3.83155L0.376615 0.746653L0.114787 0.962765L2.66105 4.04766ZM2.45416 4H2.75457V0H2.45416V4ZM2.81735 4.02229L3.23881 4.36473L5.76119 1.26027L5.33972 0.917835L2.81735 4.02229ZM19.8863 14.8766L30.2079 6.89461L27.7609 3.73039L17.4393 11.7124L19.8863 14.8766ZM30.3986 6.72671L30.6552 6.47012L27.8268 3.64169L27.5702 3.89829L30.3986 6.72671ZM31.7886 4.42521L31.8291 4.24964L27.9315 3.35019L27.891 3.52576L31.7886 4.42521ZM31.9489 2.5847L31.9356 2.42478L27.9494 2.75696L27.9627 2.91688L31.9489 2.5847ZM31.3312 0.606287L31.071 0.190005L27.679 2.31L27.9392 2.72628L31.3312 0.606287ZM30.9114 -0.0303684L30.6771 -0.311557L27.6042 2.24918L27.8386 2.53037L30.9114 -0.0303684ZM29.2591 -1.43463L29.2348 -1.44678L27.4459 2.13091L27.4703 2.14307L29.2591 -1.43463ZM28.4543 -1.75298L28.0604 -1.86794L26.9396 1.97181L27.3334 2.08677L28.4543 -1.75298ZM26.7746 -2H3.13581V2H26.7746V-2ZM3.06 4.20045L8.06 9.38795L10.94 6.61205L5.94 1.42455L3.06 4.20045ZM8.08579 9.41421L11.0858 12.4142L13.9142 9.58579L10.9142 6.58579L8.08579 9.41421ZM11.0858 12.4142L13.1173 14.4458L15.9458 11.6173L13.9142 9.58579L11.0858 12.4142ZM27.7849 -1.92767C27.4503 -1.97583 27.1127 -2 26.7746 -2V2C26.922 2 27.0692 2.01054 27.2151 2.03154L27.7849 -1.92767ZM30.0431 -0.933012C29.8002 -1.12736 29.5374 -1.2955 29.2591 -1.43463L27.4703 2.14308C27.4966 2.15622 27.5214 2.17211 27.5443 2.19047L30.0431 -0.933012ZM30.6771 -0.311561C30.4872 -0.539468 30.2748 -0.747669 30.0431 -0.933009L27.5443 2.19047C27.5662 2.20797 27.5863 2.22764 27.6042 2.24918L30.6771 -0.311561ZM31.7408 1.47604C31.6391 1.17095 31.5016 0.87899 31.3312 0.606281L27.9392 2.72628C27.9421 2.73089 27.9444 2.73581 27.9461 2.74095L31.7408 1.47604ZM31.9356 2.42478C31.9087 2.10191 31.8433 1.7834 31.7408 1.47604L27.9461 2.74095C27.9478 2.74614 27.9489 2.75152 27.9494 2.75696L31.9356 2.42478ZM31.8291 4.24963C31.955 3.7042 31.9954 3.14253 31.9489 2.5847L27.9627 2.91687C27.9748 3.06206 27.9643 3.20825 27.9315 3.35021L31.8291 4.24963ZM31.3385 5.57553C31.5438 5.21612 31.6955 4.82857 31.7886 4.4252L27.891 3.52577C27.8857 3.54862 27.8771 3.5706 27.8655 3.59098L31.3385 5.57553ZM30.6552 6.47011C30.9217 6.20361 31.1515 5.90277 31.3385 5.57553L27.8655 3.59098C27.8549 3.60952 27.8419 3.62658 27.8268 3.64169L30.6552 6.47011ZM14.8975 15.6044C16.5732 16.2515 18.4653 15.9755 19.8863 14.8766L17.4393 11.7124C17.1258 11.9549 16.7083 12.0158 16.3385 11.873L14.8975 15.6044ZM2.75457 4C2.77744 4 2.79961 4.00787 2.81735 4.02229L5.33972 0.917835C4.60897 0.324101 3.69612 0 2.75457 0V4ZM2.92288 3.83155C2.79095 3.94044 2.62522 4 2.45416 4V0C1.69593 0 0.961372 0.263996 0.376615 0.746653L2.92288 3.83155ZM-0.310569 4.38547C0.659594 4.87055 1.82452 4.73812 2.66105 4.04766L0.114786 0.962766C0.498619 0.645952 1.03314 0.585187 1.47829 0.807763L-0.310569 4.38547ZM-1.40941 3.38725C-1.15816 3.80598 -0.792725 4.14439 -0.355954 4.36278L1.4329 0.78507C1.67655 0.906895 1.88041 1.09567 2.02057 1.32927L-1.40941 3.38725ZM-0.572722 -0.45883C-0.832136 -0.199416 -1.05876 0.0908327 -1.24751 0.405418L2.18247 2.4634C2.20295 2.42926 2.22755 2.39775 2.2557 2.3696L-0.572722 -0.45883ZM0.111127 -1.01945C-0.134726 -0.85555 -0.363788 -0.667764 -0.572722 -0.45883L2.2557 2.3696C2.27838 2.34692 2.30324 2.32654 2.32993 2.30875L0.111127 -1.01945ZM-1.56771 1.05476C-1.89249 1.81258 -1.8336 2.68026 -1.40941 3.38725L2.02057 1.32927C2.2572 1.72366 2.29005 2.20769 2.10887 2.63044L-1.56771 1.05476ZM16.3385 11.873C16.1912 11.8161 16.0574 11.729 15.9458 11.6173L13.1173 14.4458C13.6234 14.9519 14.2298 15.3465 14.8975 15.6044L16.3385 11.873ZM1.47226 -1.72152C1.20035 -1.62786 0.93683 -1.5114 0.684518 -1.37338L2.6041 2.13592C2.65883 2.10598 2.71599 2.08072 2.77497 2.06041L1.47226 -1.72152ZM29.2348 -1.44679C28.9843 -1.57203 28.7231 -1.6745 28.4543 -1.75298L27.3334 2.08677C27.3722 2.09809 27.4098 2.11286 27.446 2.13092L29.2348 -1.44679ZM2.77497 2.06041C2.89107 2.02041 3.01301 2 3.13581 2V-2C2.56969 -2 2.00751 -1.90589 1.47226 -1.72152L2.77497 2.06041Z"
                fill="black"
                mask="url(#path-1-inside-1_24_15)"
              />
              <path
                d="M28.749 27.8134L28.749 27.8134C28.6921 27.9415 28.6209 28.0627 28.5368 28.1748C28.4185 28.3326 28.276 28.4705 28.1145 28.5836L28.1001 28.5937C27.9276 28.7144 27.7369 28.8068 27.5352 28.8673L27.2761 28.945C27.0379 28.9816 26.7971 29 26.556 29H3.10225L2.7481 28.9606C2.6227 28.9467 2.49912 28.9196 2.37944 28.8797L2.0647 29.8238L2.37942 28.8797C2.29901 28.8529 2.2206 28.8204 2.14477 28.7825L2.09681 28.7585C1.99803 28.7091 1.90474 28.6494 1.81849 28.5804L1.19594 29.3586L1.81849 28.5804C1.7461 28.5225 1.67899 28.4583 1.61796 28.3885L0.865374 29.047L1.61795 28.3885L1.42145 28.164C1.34467 28.0762 1.27941 27.979 1.22727 27.8747C1.18941 27.799 1.15866 27.72 1.13541 27.6386L1.05906 27.3714C1.01973 27.0755 1 26.7773 1 26.4788V3.03101L1.03472 2.75322C1.05028 2.62874 1.0781 2.5061 1.11777 2.38709C1.14611 2.30208 1.18128 2.21726 1.22183 2.13615C1.28395 2.01191 1.3598 1.89322 1.44556 1.78601L1.52543 1.68618C1.63655 1.57818 1.75441 1.47732 1.87833 1.38422L2.13179 1.23939C2.23379 1.1811 2.3413 1.13303 2.45275 1.09588C2.54114 1.06642 2.63171 1.04393 2.72361 1.02861L2.55946 0.0437036L2.72361 1.02861L2.73627 1.0265C2.84208 1.00886 2.94917 1 3.05645 1H3.14774L3.20448 1.0063C3.47802 1.0367 3.74601 1.10439 4.00101 1.20742L4.28279 1.37649C4.43862 1.49604 4.58646 1.62567 4.72536 1.76457L28.0429 25.0821L28.1738 25.213C28.4135 25.4527 28.6148 25.7278 28.7708 26.0285L28.9169 26.4179C28.9399 26.4793 28.9569 26.5427 28.9676 26.6074L29.954 26.443L28.9676 26.6074C28.983 26.6995 28.9856 26.7933 28.9752 26.8862L28.9329 27.2669C28.8977 27.4345 28.8448 27.5979 28.7753 27.7544L28.749 27.8134Z"
                stroke="black"
                strokeWidth="2"
              />
            </g>
            <defs>
              <clipPath id="clip0_24_15">
                <rect width="30" height="30" fill="white" />
              </clipPath>
            </defs>
          </svg>
        )}

        {isOpen && <FontAwesomeIcon icon={faClose} size="2xl" />}
      </motion.button>

      <motion.div
        animate={{ opacity: isOpen ? 1 : 0 }}
        className="fixed bottom-32 right-10 flex flex-col gap-4 items-end"
      >
        {actions.map((action, index) => {
          return (
            <motion.button
              key={index}
              className={`${action.color ?? 'bg-[#FF7972]'} ${
                action.textColor ?? 'text-onPrimaryContainer'
              } rounded-2xl px-5 py-1.5 font-medium focus:outline-none flex gap-4 items-center justify-center w-fit h-fit text-lg`}
              onClick={action.onClick}
              animate={{
                opacity: isOpen ? 1 : 0,
              }}
              style={{ y: isOpen ? 0 : 10000000 }}
              transition={{ duration: 0.5, delay: index * 0.1 }}
            >
              <FontAwesomeIcon icon={action.icon} />
              {action.name}
            </motion.button>
          );
        })}
      </motion.div>
    </>
  );
};

export default FloatingActionButton;
